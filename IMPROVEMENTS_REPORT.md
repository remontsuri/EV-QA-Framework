# üöÄ –û—Ç—á–µ—Ç –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —É–ª—É—á—à–µ–Ω–∏—è—Ö EV-QA-Framework

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ (19.01.2026)

### 1. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∫—Ä—ã—Ç–∏—è: 14 ‚Üí 64+ —Ç–µ—Å—Ç–æ–≤

#### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã:

1. **`tests/test_ev_qa_limits.py`** (23+ —Ç–µ—Å—Ç–∞)
   - –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è Temperature (7 –∫–µ–π—Å–æ–≤)
   - –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è Voltage (8 –∫–µ–π—Å–æ–≤)
   - –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è SOC (8 –∫–µ–π—Å–æ–≤)
   - –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã –Ω–∞ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

2. **`tests/test_ev_qa_anomalies.py`** (15+ —Ç–µ—Å—Ç–æ–≤)
   - –¢–µ—Å—Ç—ã –¥–µ—Ç–µ–∫—Ü–∏–∏ –∞–Ω–æ–º–∞–ª–∏–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã
   - –¢–µ—Å—Ç—ã –Ω–∞ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (—Ä–æ–≤–Ω–æ 5¬∞C, 5.1¬∞C —Å–∫–∞—á–∫–∏)
   - –¢–µ—Å—Ç—ã –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–∫–∞—á–∫–æ–≤
   - –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ (—ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è)
   - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã test suite

3. **`tests/test_ml_analysis.py`** (12+ —Ç–µ—Å—Ç–æ–≤)
   - –¢–µ—Å—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ EVBatteryAnalyzer
   - –¢–µ—Å—Ç—ã –Ω–∞ –∏–¥–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
   - –¢–µ—Å—Ç—ã —Å —è–≤–Ω—ã–º–∏ –≤—ã–±—Ä–æ—Å–∞–º–∏
   - –¢–µ—Å—Ç—ã severity classification (CRITICAL/WARNING/INFO)
   - –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ ML-–∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞

4. **`tests/test_pydantic_models.py`** (14+ —Ç–µ—Å—Ç–æ–≤)
   - 10 –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –¥–ª—è SOC –≤–∞–ª–∏–¥–∞—Ü–∏–∏
   - –¢–µ—Å—Ç—ã —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö (—Å—Ç—Ä–æ–∫–∏, None, —Å–ø–∏—Å–∫–∏, —Å–ª–æ–≤–∞—Ä–∏)
   - –¢–µ—Å—Ç—ã VIN –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (–¥–ª–∏–Ω–∞, –∑–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã I/O/Q)
   - –¢–µ—Å—Ç—ã Voltage –∏ Temperature range validation
   - –¢–µ—Å—Ç—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π

**–ò—Ç–æ–≥–æ: ~64 —Ç–µ—Å—Ç–∞** (–ø—Ä–æ—Ç–∏–≤ –∏–∑–Ω–∞—á–∞–ª—å–Ω—ã—Ö 14)

---

### 2. –í–Ω–µ–¥—Ä–µ–Ω–∏–µ Pydantic –º–æ–¥–µ–ª–µ–π –¥–ª—è —Å—Ç—Ä–æ–≥–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏

#### –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å `ev_qa_models.py`:

- **BatteryTelemetryModel** ‚Äî Pydantic –º–æ–¥–µ–ª—å —Å:
  - –°—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –ø–æ–ª–µ–π (voltage 0-1000V, SOC 0-100%, etc.)
  - VIN –≤–∞–ª–∏–¥–∞—Ü–∏—è (—Ä–æ–≤–Ω–æ 17 —Å–∏–º–≤–æ–ª–æ–≤, –±–µ–∑ I/O/Q)
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è timestamp
  - –í–∞–ª–∏–¥–∞—Ç–æ—Ä—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä
  - –ü–æ–¥—Ä–æ–±–Ω—ã–µ docstring –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ

- **validate_telemetry()** ‚Äî —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å–ª–æ–≤–∞—Ä–µ–π

#### –û–±–Ω–æ–≤–ª–µ–Ω `requirements.txt`:
```text
pydantic>=2.0.0
```

---

### 3. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ ML-–º–æ–¥—É–ª—è (`ev_qa_analysis.py`)

#### –£–ª—É—á—à–µ–Ω–∏—è EVBatteryAnalyzer:

1. **Type hints –≤–µ–∑–¥–µ**:
   ```python
   def analyze_telemetry(self, df_telemetry: pd.DataFrame) -> Dict[str, any]:
   ```

2. **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã IsolationForest —É–ª—É—á—à–µ–Ω—ã**:
   - `n_estimators=200` (–±—ã–ª–æ 100 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
   - `n_jobs=-1` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö CPU
   - `max_samples='auto'`

3. **–ü–æ–¥—Ä–æ–±–Ω—ã–µ docstrings –Ω–∞ —Ä—É—Å—Å–∫–æ–º**:
   - –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ Isolation Forest
   - –û–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ –∞–Ω–∞–ª–∏–∑–∞ (1-6)
   - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å doctests

4. **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º** –æ–±—ä—è—Å–Ω—è—é—â–∏–µ:
   - –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç StandardScaler
   - –ß—Ç–æ —Ç–∞–∫–æ–µ anomaly scores
   - –ü–æ—á–µ–º—É SOC –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏

#### –î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π –∫–ª–∞—Å—Å **AnomalyDetector**:

```python
detector = AnomalyDetector(contamination=0.01, n_estimators=200)
detector.train(normal_data)  # –û–±—É—á–µ–Ω–∏–µ –Ω–∞ –Ω–æ—Ä–º–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
predictions, scores = detector.detect(new_data)  # –î–µ—Ç–µ–∫—Ü–∏—è –Ω–∞ –Ω–æ–≤—ã—Ö
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ–±—É—á–µ–Ω–∏—è (train) –∏ –¥–µ—Ç–µ–∫—Ü–∏–∏ (detect)
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è production (–æ–±—É—á–∏—Ç—å –æ–¥–∏–Ω —Ä–∞–∑, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–Ω–æ–≥–æ —Ä–∞–∑)
- –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—É—á–µ–Ω–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–∏
- –í—ã–≤–æ–¥ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

| –ú–µ—Ç—Ä–∏–∫–∞ | –ë—ã–ª–æ | –°—Ç–∞–ª–æ |
|---------|------|-------|
| **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤** | 14 | ~64 |
| **–¢–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤** | 1 | 5 |
| **–°—Ç—Ä–æ–≥–æ—Å—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏–∏** | Manual checks | Pydantic models |
| **Type hints** | –ß–∞—Å—Ç–∏—á–Ω–æ | –í–µ–∑–¥–µ |
| **Docstrings** | –ê–Ω–≥–ª–∏–π—Å–∫–∏–µ | –†—É—Å—Å–∫–∏–µ + –ø–æ–¥—Ä–æ–±–Ω—ã–µ |
| **IsolationForest n_estimators** | 100 (default) | 200 |

---

## üéØ –ß—Ç–æ —Ç–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤:
```bash
pytest -v
```

### –ó–∞–ø—É—Å–∫ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º:
```bash
pytest --cov=ev_qa_framework --cov=ev_qa_analysis --cov=ev_qa_models --cov-report=html
```

### –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤:
```bash
pytest tests/test_pydantic_models.py -v
pytest tests/test_ml_analysis.py -v
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Pydantic –º–æ–¥–µ–ª–µ–π:
```python
from ev_qa_models import validate_telemetry

data = {
    "vin": "1HGBH41JXMN109186",
    "voltage": 396.5,
    "current": 125.3,
    "temperature": 35.2,
    "soc": 78.5,
    "soh": 96.2
}

telemetry = validate_telemetry(data)  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ AnomalyDetector:
```python
from ev_qa_analysis import AnomalyDetector
import pandas as pd

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
detector = AnomalyDetector(contamination=0.01, n_estimators=200)

# –û–±—É—á–µ–Ω–∏–µ –Ω–∞ –Ω–æ—Ä–º–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
detector.train(normal_telemetry_df)

# –î–µ—Ç–µ–∫—Ü–∏—è –∞–Ω–æ–º–∞–ª–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
predictions, scores = detector.detect(new_telemetry_df)
```

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏)

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã** –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç:
   ```bash
   pytest -v
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å coverage**:
   ```bash
   pytest --cov=. --cov-report=html
   open htmlcov/index.html
   ```

3. **–û–±–Ω–æ–≤–∏—Ç—å README.md** —Å –Ω–æ–≤—ã–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Pydantic

4. **CI/CD**:
   - –î–æ–±–∞–≤–∏—Ç—å coverage reports –≤ `.gitlab-ci.yml`
   - –î–æ–±–∞–≤–∏—Ç—å –ª–∏–Ω—Ç–∏–Ω–≥ (black, flake8)

5. **Docker**:
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
   - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–∞

---

## üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –¥–ª—è —Ä–µ–∑—é–º–µ

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —Å–º–µ–ª–æ –ø–∏—Å–∞—Ç—å:

‚úÖ **–†–∞–∑—Ä–∞–±–æ—Ç–∞–ª QA-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è EV-–±–∞—Ç–∞—Ä–µ–π** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Python, pytest, Pydantic  
‚úÖ **–ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏: 64+ unit/integration —Ç–µ—Å—Ç–æ–≤** (boundaries, negative cases, ML)  
‚úÖ **ML-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç**: –î–µ—Ç–µ–∫—Ü–∏—è –∞–Ω–æ–º–∞–ª–∏–π —Å Scikit-learn IsolationForest (200 estimators)  
‚úÖ **–°—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**: Pydantic models —Å type hints  
‚úÖ **CI/CD**: GitLab CI —Å Docker, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã  
‚úÖ **Code quality**: –ü–æ–ª–Ω—ã–µ docstrings, type hints, —Ä—É—Å—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è  

---

**–ê–≤—Ç–æ—Ä —É–ª—É—á—à–µ–Ω–∏–π**: Antigravity AI Assistant  
**–î–∞—Ç–∞**: 19.01.2026  
**–ü—Ä–æ–µ–∫—Ç**: [EV-QA-Framework](https://github.com/remontsuri/EV-QA-Framework)
